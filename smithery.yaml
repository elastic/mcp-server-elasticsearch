# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    type: object
    required:
      - esUrl
    properties:
      esUrl:
        type: string
        description: Elasticsearch instance URL
      esApiKey:
        type: string
        description: Elasticsearch API key for authentication (optional if using
          username/password)
      esUsername:
        type: string
        description: Elasticsearch username for basic authentication (optional)
      esPassword:
        type: string
        description: Elasticsearch password for basic authentication (optional)
  commandFunction:
    # A JS function that produces the CLI command based on the given config to start the MCP on stdio.
    |-
    (config) => ({
      command: 'docker',
      args: [
        'run',
        '-i',
        '--rm',
        '-e', 'ES_URL',
        '-e', 'ES_API_KEY',
        '-e', 'ES_USERNAME',
        '-e', 'ES_PASSWORD',
        'docker.elastic.co/mcp/elasticsearch',
        'stdio',
      ],
      env: Object.assign({
        ES_URL: config.esUrl
      }, config.esApiKey ? { ES_API_KEY: config.esApiKey } : {},
      config.esUsername && config.esPassword ? { ES_USERNAME: config.esUsername, ES_PASSWORD: config.esPassword } : {},
    })
  exampleConfig:
    esUrl: http://localhost:9200
    esApiKey: your-elasticsearch-api-key
